# 巧转拼图（RotaPuzzle）用户体验文档

## 游戏界面设计

### 1. 游戏加载页
- 游戏名称
- 加载进度条
- 简单的动画或图形

### 2. 游戏初始页
- 分辨率：1920*1080
- 游戏名称:RotaPuzzle
- 游戏玩法和目标：通过将碎片拼凑成指定目标形状，来锻炼你的空间推理能力。
- 3个主按钮（位置：在游戏玩法说明正下方并排）:
  - How To Play 
    * 按钮样式：椭圆形，不填色，白色边框，文字白色
    * 点击进入How To Play页面
  - Play
    * 按钮样式：椭圆形，有填色，没有边框，文字白色
    * 点击进入Play页面（游戏主界面）
  - Setup
    * 点击进入游戏设置页面
- 1个游戏全局声音设置按钮(位置：右下角)：
  * 按钮样式:喇叭图案
  * Mute Sound(默认)
  * Sound Muted（点击 Mute Sound后，静音，显示为Sound Muted）

### 3. How To Play 界面
- 分辨率：1920*1080
- 左上角小按钮:Skip tutorial
  //点击Skip tutorial按钮后，进入游戏主界面
- 页面居中上方显示文字：How To Play
- 标题下方一张游戏图片（请暂时设计一张占位图，后续由设计师替换）
- 占位图下方显示游戏玩法文字（左对齐排版）：
  在此游戏中，拖动明亮的碎片，将碎片放入轮廓内。点击一个碎片后，将出现两个按钮：顺时针和逆时针旋转该碎片，将碎片放入轮廓内。旋转次数越少，得分越高。   


### 4. 游戏暂停界面
- 分辨率：1920*1080
- 有5个按钮居中竖排
   * Resume（点击后，返回暂停前界面）
   * Restart（点击后，重新开始游戏）
   * Mute Sound（点击后显示Sound Muted）
   * How To Play（点击进入How To Play页面）
   * Setup(点击进入设置页面)

   备注；风格与how to play和loading页面风格一致，注意要考虑可以让所有内容适应在 1920x1080 屏幕上可见，而无需滚动。

### 5. 关卡欢迎页

- 响应式布局，将内容置于 1920x1080 容器的中心。
- 页面顶部的“welcome！”标题。
- 拼图预览图像的占位符。
- 拼图进度指示器（例如，“4 个拼图中的 1 个”）。
   在Initial.html点击play后进入关卡欢迎页，看到关卡进度标题：
   * 进入第一关时，标题显示 Puzzle 1 of 4 
   * 当进入第2关时，标题显示 Puzzle 2 of 4 
- 用于开始拼图的“begin”按钮。
备注：Puzzle 1 of 4 ，1代表当前关卡，4代表游戏设置的总关卡数，根据设置动态调整。


### 6. Play页面
#### 布局
- 响应式布局，将内容置于 1920x1080 容器的中心。
- 顶部信息栏区域
  - 左上角有暂停按钮（点击进入暂停页面）
  - 右上角状态提示栏
    * 当前Puzzle关卡
      // 如果当前正在挑战第3关，显示为：Puzzle 3 of 4
    * 分数显示
      // 如果本关卡当前获得10880分，显示为：10880
    * 当前难度显示
      // 如果当前游戏设定是中级，显示为：中级

- 中间区域（游戏区域）
  - 背景图（每个关卡不同，随机生成一张有几何图形组成的纹理图，暗紫色系）
  - 目标形状（无轮廓线的黑色纯色块，在背景图中显示）
  - 碎片（浅蓝色，随机悬浮在背景图上不同位置）


备注
游戏区域由4个交互层组成（由下至上）
1.背景层
  -  由一张底图组成（每个关卡不一样，能否系统生成有几何图形组成的纹理图，请建议） 

2.目标形状层
  - 形状颜色：黑色
  - 改形状由多个碎片组成而成
   例子：
   假设该图形是1个正方形，由2个1/4边长小的直角等边三角形、1个1/2边长大的直角等边三角形、1个1/4边长的正方形组成

3. 提示层
  - 在目标形状层上对应碎片组合的位置轮廓，显示白色虚线
  - 虚线包括：目前形状的外轮廓和碎片的边界轮廓（碎片的外轮廓是在点击hint时才会显示，显示时间2秒后消失。）

4. 碎片层
  - 在目标形状层区域之外摆放
  - 碎片随机不同角度摆放目标碎片
  
  例子：对应目标由4个碎片组成：2个1/4边长小的直角等边三角形、1个1/2边长大的直角等边三角形、1个1/4边长的正方形）
  
交互：
- 每个碎片可以点击响应和拖动，被响应的碎片可以对应下面的旋转按钮响应
 例子：当鼠标点击一个等边直角三角形，然后再点击顺时针按钮，该三角形会顺时针旋转45度。
- 触发碎片时增加边缘发光效果，可以通过CSS的box-shadow属性实现[^1]
- 添加轻微的旋转效果，增加交互感[^1]
- 当碎片被拖起时，添加阴影效果来模拟立体感[^1]
- 在拾取、放下和旋转碎片时添加轻微的音效，增强用户体验[^1]
- 当碎片接近正确位置时，添加轻微的吸附效果，给用户视觉提示[^1]
- 在鼠标悬停或选中碎片时稍微放大碎片，突出当前操作的部分[^1]
   [^1]: https://pixso.cn/designskills/youxijiemiansj/


##### 关于目标形状和碎片生成的逻辑开发
为了可以加快理解该逻辑和开发效率，建议在游戏区域临时增加3个按钮方便测试
游戏区域元素包括
1. 3个按钮：
   - 初级刷新
   - 中级刷新
   - 高级刷新
2. 系统生成的目标形状（黑色）
3、碎片（根据目标形状拆分，然后每一块碎片不规则分布在目标形状周围）

逻辑测试：
每次点击“初级刷新”或“中级刷新”或“高级刷新”按钮，页面刷新，对应难度逻辑生成不同的目标形状和分解不同形状的碎片。


- 底部控制栏区域
  - 显示当前关卡最佳旋转次数和实际旋转使用次数（居左）
    // 例如当前关卡最佳旋转次数为6次，实际使用了10次，显示为：10/6
  - 旋转控制按钮2个（居中）
    * 逆时针 旋转按钮
    * 顺时针 旋转按钮  
    //旋转按钮需要显示旋转方向图标
  - 提示按钮（居右）
    // 按钮显示文字：Hint
    点击hint按钮后，对应提示当前未摆放正确的任一碎片在目标形状的具体位置，改位置黄色线框描绘，当碎片移动到该提示位置后，提示的黄色线框消失。    

    

#### 游戏状态
- 当碎片摆错位置时，碎片不会发生磁吸效果（即不会粘合到目标图形中，而是被弹出目标区域）
- 当碎片摆放位置正确时，碎片会磁吸般被粘合到目标图形中。
- 当所有碎片完成摆放后，目标图案从几块鲜蓝色的碎片变成一个完整的橙色形状。
- 关卡游戏完成后，1.5秒后进入关卡完成界面
- 吸附效果：当碎片接近正确位置时,可以添加轻微的吸附效果,给用户一些视觉提示。
- 缩放效果：可以在鼠标悬停或选中碎片时稍微放大碎片,突出当前操作的部分
- 音效反馈：根据CSS-Tricks的建议,可以在拾取、放下和旋转碎片时添加轻微的音效,增强用户体验。
- 阴影效果:当碎片被拖起时,可以添加阴影效果来模拟立体感。
- 旋转效果:根据CSS-Tricks的文章,可以在拖动碎片时添加轻微的旋转效果,增加交互感。
- 边缘发光效果:在选中或拖动碎片时添加边缘发光效果。这可以通过CSS的box-shadow属性实现。

### 7. 游戏关卡完成界面
- 响应式布局，将内容置于 1920x1080 容器的中心。
- 标题：恭喜! 您已解锁下一关!
内容包括以下三部分

1、得分难度：
-本关得分: 1300分  [大号字体,醒目位置]
-关卡难度: 中级 [中等字体]

2、得分明细:
🧩 完成碎片: 8/8 (+960分)  
🔄 旋转使用: 12/10 (-160分) 
💡 提示使用: 1次 (-100分) 
⭐ 旋转奖励: +600分

得分状态信息提示
本关得分: 1300分
关卡满分: 1500分
您的最佳: 1400分

3、在页面正下方增加2个按钮：Replay、Next 
- 点击Replay重新开始本关卡挑战（按钮居左）
- 点击Next进入下一关（按钮居右）


### 8. 游戏完成界面
- 响应式布局，将内容置于 1920x1080 容器的中心。
- 游戏大标题（居中）：RotaPuzzle
- 左区域：
  1. 小标题：Game Over
  2. 本次游戏总得分
  3. 本次游戏使用的难度（如：中级）
  4. 按钮：Play Again(点击，重新开始游戏)

- 右区域：
  游戏历史得分前5排行榜单（名次、得分、难度、时间），居右卡片排列显示
  * 如果本次得分在前五，该分数加粗显示
  * 时间如果是今天，显示Today; 如果不是今天，按2024-09-18格式显示日期


### 9. 游戏设置界面
- 响应式布局，将内容置于 1920x1080 容器的中心。
- 标题：RotaPuzzle Game setup
- 关卡数设置，默认关卡数：10，可以输入不大于30关卡数
- 难度设置，三个按钮，默认选择：初级
  - 初级
  - 中级
  - 高级
- 语言选择：下拉菜单，提供以下语言选项：
  - 英文（默认）
  - 简体中文
  - 繁体中文
  - 日文
  - 韩文
  - 法语
  - 西班牙语

## 用户交互设计

1. 响应式设计：
   - 使用CSS媒体查询来适应不同的屏幕尺寸（游戏界面自适应1024X768和1920X1080比例屏幕，需要考虑移动终端浏览器游戏界面自适应显示。）
   - 采用弹性布局（Flexbox）或网格布局（Grid）来实现自适应界面
   - 使用相对单位（如vw, vh, rem）代替固定像素值
   - 为移动设备优化触摸交互 

2. 界面设计：
   - 采用2D扁平化设计风格
   - 使用莫兰迪色系作为主要配色方案
   - 参考[Flat Design Colors](https://laochao.github.io/Colors/flat.html)中的配色方案，选择柔和的色调

3. 拖拽和旋转功能的视觉和听觉反馈：
   - 添加轻微的阴影或发光效果，指示当前选中的碎片
   - 实现碎片拖动时的平滑动画效果
   - 添加轻微的音效，如拾取、放下和旋转碎片时的声音
   - 当碎片接近正确位置时，提供视觉提示（如微小的吸附效果）

4. 碎片互动效果：
   - 触发碎片时增加边缘发光效果，可以通过CSS的box-shadow属性实现
   - 添加轻微的旋转效果，增加交互感
   - 当碎片被拖起时，添加阴影效果来模拟立体感
   - 在拾取、放下和旋转碎片时添加轻微的音效，增强用户体验
   - 当碎片接近正确位置时，添加轻微的吸附效果，给用户视觉提示
   - 在鼠标悬停或选中碎片时稍微放大碎片，突出当前操作的部分

5. 性能优化：
   - 使用SVG而不是Canvas来绘制碎片，以确保在不同分辨率下的清晰度
   - 使用requestAnimationFrame来优化动画性能
   - 实现碎片的延迟加载，以提高初始加载速度

